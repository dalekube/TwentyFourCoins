{% extends 'base.html' %}
{% block content %}
<div style="display:flex;align-items:top;">
  <div>
    <div class="inputBlock" id="predictPriceBlock">
      <div>Supported Coins:</div>
      {% for COIN_NAME, COIN in SUPPORTED_COINS %}
        {% if COIN in PREMIUM_COINS %}
          <button class="premiumButton coinButton" id="getPrice{{COIN}}" value="{{COIN_NAME}}:{{COIN}}" onclick="pricePrediction(this, 'premium')">
            <div style="position:relative;width:100%;height:100%;">
              <div style="position:absolute;left:0;">
                <i class="fas fa-dollar-sign"></i>
              </div>
              <div style="position:absolute;left:0;right:0;">{{COIN_NAME}}<br>({{COIN}})</div>
            </div>
          </button>
        {% else %}
          <button class="freeButton coinButton" id="getPrice{{COIN}}" value="{{COIN_NAME}}:{{COIN}}" onclick="pricePrediction(this, 'free')">{{COIN_NAME}}<br>({{COIN}})</button>
        {% endif %}
      {% endfor %}
    </div>
    <div class="inputBlock" id="passcodeBlock">
      <div><i class="fas fa-dollar-sign"></i></div>
      <label for="passcode">Enter Passcode to Unlock Premium Coins:</label>
      <input type="text" id="passcode" name="passcode">
      <button id="enterPasscode" class="submitButton">Submit</button>
    </div>
  </div>
  <div id="mainContainer">
    <div id="summary">
      <div>
        TwentyFourCoins offers 24-hour, forwarding-looking price
        forecasts for popular cryptocurrencies using artificial
        intelligence trained from historical pricing data to support
        cryptocurrency trading.
      </div>
      <br>
      <div id="locked">Premium coins are <b>locked</b>. You must enter a valid passcode to gain access to premium coins.</div>
      <div id="unlocked" style="display:none;">Premium coins are <b>unlocked</b>.</div>
      <div id="passcodeStatus" style="display:none;"></div>
    </div>
    <!-- REAL PREDICTION -->
    <div id="pricePredictionBox" class="predictionBox" style="display:none;">
      <div id="predict_coin" class="coinTitle"></div>
      <br>
      <div>
        <span>24-Hour Price Forecast:</span>
        <span id="predict_prediction" class="predAttribute"></span>
      </div>
      <div>
        <span>24-Hour Price Change:</span>
        <span id="predict_change" class="predAttribute"></span>
      </div>
      <br>
      <div>
        <span>Latest Actual Price Time:</span>
        <span id="predict_time" class="predAttribute"></span>
      </div>
      <div>
        <span>Latest Actual Close Price:</span>
        <span id="predict_close" class="predAttribute"></span>
      </div>
      <br>
      <button id="modelDetailsButton" data-toggle="collapse" data-target="#modelDetails">
        <i id="modelDetailsCaret" class="fas fa-caret-right"></i>
        Model Details
      </button>
      <div id="modelDetails" class="collapse">
        <div>
          <span>Model Training Time:</span>
          <span id="stats_training_time" class="predAttribute"></span>
        </div>
        <div>
          <span>Model MAE:</span>
          <span id="stats_mae" class="predAttribute"></span>
        </div>
        <div>
          <span>Model MAPE:</span>
          <span id="stats_mape" class="predAttribute"></span>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
