{% extends 'base.html' %}
{% set active_page = "index" %}
{% block content %}
<div style="display:flex;align-items:top;">
  <div class="coinBlock container" id="predictPriceBlock">
    <div style="color:white;">
      Supported Coins
      <br>
      Predicted 24-Hour Price Change
    </div>
    {% for COIN_NAME, COIN in SUPPORTED_COINS %}
        <button class="coinButton" id="getPrice{{COIN}}" value="{{COIN_NAME}}:{{COIN}}" onclick="pricePrediction(this, 'Y')">
          {{COIN_NAME}}
          <br>
          {% if COIN_STATS[COIN]['change_direction'] == 'up' %} <i class='fas fa-caret-up'></i> {% else %} <i class='fas fa-caret-down'></i> {% endif %}
          {{COIN_STATS[COIN]['expected_change_pct']}}
        </button>
    {% endfor %}
  </div>
  <div class="container">
    <!-- REAL PREDICTION -->
    <div id="pricePredictionBox" class="predictionBox">
      <div id="predict_coin" class="coinTitle"></div>
      <br>
      <div>
        <span>24-Hour Price Forecast:</span>
        <span id="predict_prediction" class="predAttribute"></span>
      </div>
      <div>
        <span>24-Hour Price Change:</span>
        <span id="predict_change" class="predAttribute"></span>
        <span id="predict_change_pct" class="predAttribute"></span>
      </div>
      <br>
      <div>
        <span>Latest Actual Price:</span>
        <span id="actual_close" class="predAttribute"></span>
      </div>
      <div>
        <span>Latest Actual Price Time:</span>
        <span id="actual_time" class="predAttribute"></span>
      </div>
      <br>
      <div id="mainChart"></div>
      <br>
      <button id="modelDetailsButton" data-toggle="collapse" data-target="#modelDetailsBlock">
        <i id="modelDetailsCaret" class="fas fa-caret-right"></i>
        Model Performance Metrics
      </button>
      <div id="modelDetailsBlock" class="collapse">
        <div>
          <span>MAE:</span>
          <span id="stats_mae" class="predAttribute"></span>
        </div>
        <div>
          <span>MAPE:</span>
          <span id="stats_mape" class="predAttribute"></span>
        </div>
        <div>
          <span>Training Time:</span>
          <span id="stats_training_time" class="predAttribute"></span>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
